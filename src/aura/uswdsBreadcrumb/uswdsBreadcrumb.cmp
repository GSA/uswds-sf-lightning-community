<aura:component
  extends="forceCommunity:navigationMenuBase"
  implements="forceCommunity:availableForAllPageTypes"
  access="global"
>
  <ltng:require styles="{!$Resource.uswds_2_x+'/css/uswds.min.css'}" />
  <ltng:require scripts="{!$Resource.uswds_2_x+'/js/uswds.min.js'}" />
  <aura:attribute
    name="navigationLinkSetId"
    type="String"
    description="Accepts navigationLinkSetId or Developer Name of the corresponding Navigation Menu. This component expects a multi-tiered menu, menu and sub-menu items."
  />

  <!-- attributes set via Component Edit Menu-->
  <aura:attribute name="wrap" type="String" />
  <aura:attribute name="pageTitle" type="String" />

  <!-- attributes set via controller -->
  <aura:attribute name="wrapClass" type="String" />
  <aura:attribute name="breadcrumbList" type="String" default="" />

  <!-- handlers -->
  <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
  <aura:handler
    name="childInit"
    event="c:uswdsBreadcrumb_InitEvent"
    action="{!c.handleChildComponentInitEvent}"
  />
  <aura:handler
    name="clickEvent"
    event="c:uswdsBreadcrumb_ClickEvent"
    action="{!c.handleChildComponentClickEvent}"
  />
  <!-- default -->
  <nav
    class="{! 'usa-breadcrumb ' + v.wrapClass}"
    aria-label="{!v.breadcrumbList}"
  >
    <ol class="usa-breadcrumb__list" aura:id="orderedList">
      <!-- iterate-->
      <aura:iteration items="{!v.menuItems}" var="item" indexVar="index">
        <c:uswdsBreadcrumbElement
          label="{!item.label}"
          id="{!item.id}"
          index="{!item.index}"
        />
      </aura:iteration>
      <li class="usa-breadcrumb__list-item usa-current" aria-current="page">
        <span>{!v.pageTitle}</span>
      </li>
    </ol>
  </nav>
</aura:component>
